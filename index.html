<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, interactive-widget=overlays-content" />
  <meta name="description" content="Мы готовим что-то секретное. Подпишись, чтобы узнать первым.">

  <meta property="og:title" content="Скоро открытие сайта">
  <meta property="og:description" content="Узнайте первым о запуске.">
  <meta property="og:image" content="https://via.placeholder.com/1200x630/05060f/7c3aed?text=Coming+Soon">

  <title>Скоро открытие | ДеМоле России</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-color:#05060f;
      --accent-primary:#7c3aed;
      --accent-secondary:#4f46e5;
      --text-main:#fff;
      --text-muted:rgba(255,255,255,.42);
      --glass-border:rgba(255,255,255,.08);
      --glass-bg:rgba(255,255,255,.03);

      --app-h: 100vh;
      --vv-top: 0px;
    }

    *{ margin:0; padding:0; box-sizing:border-box; }

    html, body { height: 100%; background: var(--bg-color); }

    body{
      font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text-main);
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      touch-action: manipulation;
    }

    .stage{
      position: fixed;
      left: 0;
      right: 0;
      top: var(--vv-top);
      height: var(--app-h);
      overflow: hidden;
    }

    .aurora{
      position:absolute;
      inset:0;
      z-index:0;
      pointer-events:none;
      transform: translateZ(0);
    }
    .aurora-blob{
      position:absolute;
      border-radius:50%;
      opacity:.6;
      filter: blur(90px);
      will-change: transform;
    }
    .a1{
      width: 72vw; height: 72vw;
      top: -24%; left: -22%;
      background: radial-gradient(circle, #2e1065, #1e1b4b 55%, transparent 75%);
      animation: drift1 24s ease-in-out infinite alternate;
    }
    .a2{
      width: 64vw; height: 64vw;
      bottom: -18%; right: -16%;
      background: radial-gradient(circle, #0c4a6e, #064e3b 55%, transparent 75%);
      animation: drift2 30s ease-in-out infinite alternate-reverse;
    }
    .a3{
      width: 44vw; height: 44vw;
      top: 46%; left: 52%;
      transform: translate(-50%,-50%);
      background: radial-gradient(circle, #4c1d95, #1e3a8a 55%, transparent 75%);
      animation: pulse 16s ease-in-out infinite;
    }
    @keyframes drift1 { from { transform: translate(0,0) } to { transform: translate(44px,-36px) } }
    @keyframes drift2 { from { transform: translate(0,0) } to { transform: translate(-36px,44px) } }
    @keyframes pulse  { 0%,100%{ opacity:.35; transform: translate(-50%,-50%) scale(1) } 50%{ opacity:.75; transform: translate(-50%,-50%) scale(1.12) } }

    .noise{
      position:absolute;
      inset:0;
      z-index:1;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
      opacity:.07;
      mix-blend-mode:overlay;
    }

    canvas#pts{
      position:absolute;
      inset:0;
      z-index:2;
    }

    .center{
      position:absolute;
      inset:0;
      z-index:10;
      display:flex;
      align-items:center;
      justify-content:center;

      padding:
        max(18px, env(safe-area-inset-top))
        18px
        max(18px, env(safe-area-inset-bottom));
    }

    .card{
      width: min(480px, 92vw);
      background: rgba(15, 23, 42, 0.42);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 46px 40px;
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.05) inset,
        0 28px 70px rgba(0, 0, 0, 0.55);
      backdrop-filter: blur(22px) saturate(1.7);
      -webkit-backdrop-filter: blur(22px) saturate(1.7);
      transform: translateZ(0);
    }

    @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
      .card { background: rgba(15, 23, 42, 0.78); }
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 12px;
      background: rgba(124, 58, 237, 0.12);
      border: 1px solid rgba(124, 58, 237, 0.22);
      border-radius: 999px;
      font-size:.75rem;
      font-weight:600;
      color:#a78bfa;
      letter-spacing:.05em;
      text-transform:uppercase;
      margin-bottom:22px;
    }
    .live-dot{
      width:6px; height:6px;
      border-radius:50%;
      background:#a78bfa;
      box-shadow:0 0 10px rgba(124,58,237,.95);
      animation: blink-dot 2s ease-in-out infinite;
    }
    @keyframes blink-dot { 0%,100%{opacity:1} 50%{opacity:.35} }

    h1{
      font-size: clamp(2rem, 5.2vw, 2.75rem);
      font-weight: 800;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin-bottom: 12px;
      background: linear-gradient(to bottom right, #fff, #cbd5e1);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }

    .cursor{
      display:inline-block;
      width: 0.12em;
      margin-left: 0.12em;
      height: 1.05em;
      border-radius: 2px;
      background: var(--accent-primary);
      animation: blink-cursor 1s step-end infinite;
      vertical-align: -0.1em;
    }
    @keyframes blink-cursor { 0%,100%{opacity:1} 50%{opacity:0} }

    .desc{
      color: var(--text-muted);
      font-size: .95rem;
      line-height: 1.65;
      margin-bottom: 30px;
    }

    .countdown{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-bottom: 28px;
    }
    .tc{
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding: 12px 0;
      text-align:center;
    }
    .tn{
      display:block;
      font-size: 1.5rem;
      font-weight: 750;
      font-variant-numeric: tabular-nums;
      color:#fff;
    }
    .tl{
      display:block;
      margin-top: 4px;
      font-size: .6rem;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: rgba(255,255,255,.30);
    }

    form{
      display:flex;
      gap:10px;
    }
    input[type=email]{
      flex:1;
      background: rgba(0,0,0,0.22);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding: 14px 16px;
      color:#fff;
      font-size:.92rem;
      font-family:inherit;
      transition: border-color .2s, background .2s;
      min-width: 0;
    }
    input[type=email]::placeholder{ color: rgba(255,255,255,.22); }
    input[type=email]:focus{
      outline:none;
      border-color: rgba(124,58,237,.7);
      background: rgba(124,58,237,.08);
    }
    input[type=email]:focus-visible{
      box-shadow: 0 0 0 4px rgba(124,58,237,.18);
    }

    .btn{
      background: linear-gradient(135deg, var(--accent-secondary), var(--accent-primary));
      color:#fff;
      font-weight:650;
      border:none;
      border-radius: 12px;
      padding: 0 22px;
      cursor:pointer;
      transition: transform .15s, filter .2s, opacity .2s;
      box-shadow: 0 6px 18px rgba(124,58,237,.28);
      -webkit-tap-highlight-color: transparent;
      flex: 0 0 auto;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .btn:active{ transform: translateY(0); }
    .btn.loading{ opacity:.75; pointer-events:none; }

    .toast{
      position: fixed;
      left: 50%;
      bottom: calc(16px + env(safe-area-inset-bottom));
      transform: translateX(-50%) translateY(120%);
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(255,255,255,0.08);
      color:#fff;
      padding: 12px 18px;
      border-radius: 999px;
      font-size: .92rem;
      box-shadow: 0 14px 44px rgba(0,0,0,.55);
      display:flex;
      align-items:center;
      gap: 10px;
      z-index: 999;
      opacity: 0;
      transition: transform .45s cubic-bezier(.2, 1.4, .2, 1), opacity .25s;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      max-width: min(520px, 92vw);
    }
    .toast.show{
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }
    .toast svg{ color:#4ade80; flex: 0 0 auto; }

    @media (max-width: 420px){
      .card{ padding: 40px 18px; border-radius: 20px; }
      .countdown{ gap: 8px; }
      .tn{ font-size: 1.35rem; }
      form{ flex-direction: column; }
      .btn{ height: 46px; }
    }

    @media (prefers-reduced-motion: reduce){
      .aurora-blob{ animation: none !important; }
      .cursor, .live-dot{ animation: none !important; }
    }
  </style>
</head>

<body>
  <div class="stage" id="stage">
    <div class="aurora">
      <div class="aurora-blob a1"></div>
      <div class="aurora-blob a2"></div>
      <div class="aurora-blob a3"></div>
    </div>

    <div class="noise"></div>
    <canvas id="pts" aria-hidden="true"></canvas>

    <div class="center">
      <div class="card">
        <div class="badge"><div class="live-dot"></div>В разработке</div>

        <h1>ДеМоле <span id="typed"></span><span class="cursor"></span></h1>
        <p class="desc">Мы еще работаем над сайтом.<br>Оставь почту, чтобы получить ранний доступ.</p>

        <div class="countdown" aria-label="Обратный отсчёт до запуска">
          <div class="tc"><span class="tn" id="d">00</span><span class="tl">Дней</span></div>
          <div class="tc"><span class="tn" id="h">00</span><span class="tl">Часов</span></div>
          <div class="tc"><span class="tn" id="m">00</span><span class="tl">Мин</span></div>
          <div class="tc"><span class="tn" id="s">00</span><span class="tl">Сек</span></div>
        </div>

        <form id="subForm" novalidate>
          <input type="email" id="email" inputmode="email" autocomplete="email"
                 placeholder="hello@recursive.com" required aria-label="Ваш Email">
          <button type="submit" class="btn" id="subBtn">Жду</button>
        </form>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
    </svg>
    <span>Вы в списке! Скоро напишем.</span>
  </div>

  <script>
    const root = document.documentElement;
    const stage = document.getElementById('stage');

    let raf = 0;
    function applyViewportVars() {
      const vv = window.visualViewport;
      const h = vv ? vv.height : window.innerHeight;
      const top = vv ? vv.offsetTop : 0;

      root.style.setProperty('--app-h', h + 'px');
      root.style.setProperty('--vv-top', top + 'px');
      raf = 0;
    }
    function scheduleViewportVars() {
      if (raf) return;
      raf = requestAnimationFrame(applyViewportVars);
    }

    scheduleViewportVars();
    window.addEventListener('resize', scheduleViewportVars, { passive: true });
    window.addEventListener('orientationchange', scheduleViewportVars, { passive: true });

    if (window.visualViewport) {
      window.visualViewport.addEventListener('resize', scheduleViewportVars, { passive: true });
      window.visualViewport.addEventListener('scroll', scheduleViewportVars, { passive: true });
    }

    const email = document.getElementById('email');
    email.addEventListener('focus', () => {
      scheduleViewportVars();
      setTimeout(() => email.scrollIntoView({ block: 'center', behavior: 'smooth' }), 250);
    });

    const words = ["России", "Next", "Vision"];
    let wi = 0, txt = "", del = false;
    const typedEl = document.getElementById('typed');

    function typeLoop() {
      const w = words[wi % words.length];
      txt = del ? w.slice(0, txt.length - 1) : w.slice(0, txt.length + 1);
      typedEl.textContent = txt;

      let t = del ? 55 : 95;
      if (!del && txt === w) { del = true; t = 1400; }
      else if (del && txt === "") { del = false; wi++; t = 350; }

      setTimeout(typeLoop, t);
    }
    typeLoop();

    const target = new Date();
    target.setDate(target.getDate() + 65);

    function updateTimer() {
      const diff = target - new Date();
      if (diff <= 0) return;

      const parts = {
        d: Math.floor(diff / (1000 * 60 * 60 * 24)),
        h: Math.floor((diff / (1000 * 60 * 60)) % 24),
        m: Math.floor((diff / (1000 * 60)) % 60),
        s: Math.floor((diff / 1000) % 60)
      };
      for (const k in parts) {
        document.getElementById(k).innerText = String(parts[k]).padStart(2, '0');
      }
    }
    updateTimer();
    setInterval(updateTimer, 1000);

    const form = document.getElementById('subForm');
    const btn = document.getElementById('subBtn');
    const toast = document.getElementById('toast');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const v = email.value.trim();
      if (!v || !v.includes('@')) {
        email.focus();
        return;
      }

      btn.classList.add('loading');
      btn.textContent = '...';

      setTimeout(() => {
        btn.classList.remove('loading');
        btn.textContent = 'Готово';
        email.value = '';

        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3800);
        setTimeout(() => btn.textContent = 'Жду', 1400);
      }, 900);
    });

    const cvs = document.getElementById('pts');
    const ctx = cvs.getContext('2d');

    const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    let W = 0, H = 0, DPR = 1;
    const mouse = { x: -9999, y: -9999 };

    function resizeCanvas() {
      DPR = Math.min(2, window.devicePixelRatio || 1);
      W = Math.floor(stage.clientWidth);
      H = Math.floor(stage.clientHeight);
      cvs.width = Math.floor(W * DPR);
      cvs.height = Math.floor(H * DPR);
      cvs.style.width = W + 'px';
      cvs.style.height = H + 'px';
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }

    const count = (innerWidth < 480) ? 46 : 80;
    const pts = Array.from({ length: count }, () => ({
      x: Math.random() * 1,
      y: Math.random() * 1,
      vx: (Math.random() - .5) * 0.0006,
      vy: (Math.random() - .5) * 0.0006,
      r: Math.random() * 1.5 + 0.5
    }));

    function setPointer(e) {
      const rect = stage.getBoundingClientRect();
      mouse.x = e.clientX - rect.left;
      mouse.y = e.clientY - rect.top;
    }
    window.addEventListener('pointermove', setPointer, { passive: true });
    window.addEventListener('pointerleave', () => { mouse.x = -9999; mouse.y = -9999; }, { passive: true });

    resizeCanvas();
    window.addEventListener('resize', () => { resizeCanvas(); }, { passive: true });

    let last = performance.now();
    function loop(now) {
      const dt = Math.min(32, now - last);
      last = now;

      ctx.clearRect(0, 0, W, H);

      for (const p of pts) {
        p.x += p.vx * dt;
        p.y += p.vy * dt;

        if (p.x < 0) { p.x = 0; p.vx *= -1; }
        if (p.y < 0) { p.y = 0; p.vy *= -1; }
        if (p.x > 1) { p.x = 1; p.vx *= -1; }
        if (p.y > 1) { p.y = 1; p.vy *= -1; }

        const px = p.x * W;
        const py = p.y * H;

        const dx = mouse.x - px;
        const dy = mouse.y - py;
        const dist = Math.hypot(dx, dy);
        const maxD = 150;

        if (dist < maxD) {
          ctx.beginPath();
          ctx.moveTo(px, py);
          ctx.lineTo(mouse.x, mouse.y);
          ctx.strokeStyle = `rgba(124,58,237,${(1 - dist / maxD) * 0.18})`;
          ctx.lineWidth = 0.6;
          ctx.stroke();
        }

        ctx.beginPath();
        ctx.arc(px, py, p.r, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(255,255,255,0.22)';
        ctx.fill();
      }

      requestAnimationFrame(loop);
    }

    if (!reduceMotion) requestAnimationFrame(loop);
  </script>
</body>
</html>
